const express=require("express"),router=express.Router(),Post=require("../models/posts");router.get("/",(async(t,s)=>{try{const t=await Post.all;s.json({posts:t})}catch(t){s.status(500).json({err:t})}})),router.get("/:id",(async(t,s)=>{try{const o=await Post.findById(t.params.id);s.json({posts:o})}catch(t){s.status(500).json({err:t})}})),router.post("/",(async(t,s)=>{try{const o=await Post.create(t.body.title,t.body.alias,t.body.description,t.body.date);s.json(o)}catch(t){s.status(404).json({err:t})}})),router.delete("/:id",(async(t,s)=>{try{const o=await Post.findById(t.params.id);await o.destroy(),s.status(204).json("Post deleted")}catch(t){s.status(500).json({err:t})}})),router.put("/:id",(async(t,s)=>{try{const o=await Post.findById(t.params.id);await o.update(t.body.title,t.body.alias,t.body.description),s.status(204).json("Post updated")}catch(t){s.status(500).json({err:t})}})),module.exports=router;
